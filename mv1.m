clear all
close all
clc

i=imread ('project.jpg');
imshow(i);

Q = [1 0 1 1 0 0 0 0 -1640 0 -1640 -1640
    0 0 0 0 1 0 1 1 -2123 0 -2123 -2123
    4 0 2 1 0 0 0 0 -7252 0 -3626 -1813
    0 0 0 0 2 0 2 1 -4748 0 -4748 -2374
    5 0 4 1 0 0 0 0 -9415 0 -7532 -1883
    0 0 0 0 5 0 4 1 -11470 0 -9176 -2294
    7 0 24 1 0 0 0 0 -14686 0 -50352 -2098
    0 0 0 0 7 0 24 1 -5180 0 -17760 -740
    9 0 20 1 0 0 0 0 -19845 0 -44100 -2205
    0 0 0 0 9 0 20 1 -10080 0 -22400 -1120
    16 0 19 1 0 0 0 0 -44448 0 -52782 -2778
    0 0 0 0 16 0 19 1 -19968 0 -23712 -1248
    0 1 2 1 0 0 0 0 0 -1543 -3086 -1543
    0 0 0 0 0 1 2 1 0 -2364 -4725 -2364
    0 2 7 1 0 0 0 0 0 -3016 -10556 -1508
    0 0 0 0 0 2 7 1 0 -4068 -14238 -2034
    0 5 10 1 0 0 0 0 0 -6895 -13790 -1379
    0 0 0 0 0 5 10 1 0 -9365 -18730 -1873
    0 17 14 1 0 0 0 0 0 -9384 -7728 -552
    0 0 0 0 0 17 14 1 0 -23682 -24444 -1764
    0 14 5 1 0 0 0 0 0 -10864 -3880 -776
    0 0 0 0 0 14 5 1 0 -34580 -12350 -2470
    0 20 24 1 0 0 0 0 0 -3120 -3744 -156
    0 0 0 0 0 20 24 1 0 -13320 -15984 -666];
% taranahde matris Q
TQ=Q';
%zarbe matris Q va TQ
A=TQ*Q;
%be dast avardan meghdar vizhe va bordar vizhe
[U,R] = eig(A);
%be dast avardan kochak tarin 
T=U(: , 1);
%be dast avardan matris M
M = [T(1) T(2) T(3) T(4)
    T(5) T(6) T(7) T(8)
    T(9) T(10) T(11) T(12)];
%noghat ghermez baray test
R1 = M * [
    1
    0
    13
    1];
R1 = [R1(1)/R1(3) R1(2)/R1(3)];

R2 = M* [5
    0
    5
    1];
R2 = [R2(1)/R2(3) R2(2)/R2(3)];

R3 = M * [4 
    0
    16
    1];
R3 = [R3(1)/R3(3) R3(2)/R3(3)];

R4 =M * [10 
    0
    18
    1];
R4 = [R4(1)/R4(3) R4(2)/R4(3)];


R5 =M * [14 
    0
    7
    1];
R5 = [R5(1)/R5(3) R5(2)/R5(3)];

R6 =M * [0
    11
    15
    1];
R6 = [R6(1)/R6(3) R6(2)/R6(3)];

R7 =M * [0
    12
    9
    1];
R7 = [R7(1)/R7(3) R7(2)/R7(3)];

R8 =M * [0
    16
    16
    1];
R8 = [R8(1)/R8(3) R8(2)/R8(3)];

%bedast avardan error
e1 = sqrt ((R1(1)-1691).^2+(R1(2)-1607).^2);
e2 = sqrt ((R2(1)-1892).^2+(R2(2)-2237).^2);
e3 = sqrt ((R3(1)-1857).^2+(R3(2)-1428).^2);
e4 = sqrt ((R4(1)-2261).^2+(R4(2)-1293).^2);
e5 = sqrt ((R5(1)-2518).^2+(R5(2)-2280).^2);
e6 = sqrt ((R6(1)-1037).^2+(R6(2)-1568).^2);
e7 = sqrt ((R7(1)-934).^2+(R7(2)-2078).^2);
e8 = sqrt ((R8(1)-625).^2+(R8(2)-1518).^2);

mean_error = (e1+e2+e3+e4+e5+e6+e7+e8)/8